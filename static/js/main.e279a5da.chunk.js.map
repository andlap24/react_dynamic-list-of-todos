{"version":3,"sources":["api/api.js","components/TodoList/TodoList.jsx","components/CurrentUser/CurrentUser.jsx","App.jsx","index.js"],"names":["BASE_URL","getTodos","fetch","then","response","json","result","data","getUser","userId","TodoList","state","status","query","handleSelect","target","setState","value","handleChange","toLowerCase","this","props","setUser","changeStatus","todos","filter","todo","completed","title","includes","className","type","placeholder","onChange","map","key","id","classNames","TodoList__item","readOnly","checked","onClick","React","Component","CurrentUser","user","clearUser","name","email","phone","App","selectedUserId","componentDidMount","a","ReactDOM","render","document","getElementById"],"mappings":"4WAAMA,EAAW,iCAEJC,EAAW,kBACtBC,MAAM,GAAD,OAAIF,EAAJ,YACFG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAM,OAAIA,EAAOC,SAGdC,EAAU,SAAAC,GAAM,OAC3BP,MAAM,GAAD,OAAIF,EAAJ,kBAAsBS,IACxBN,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAE,GAAI,OAAIA,EAAKE,S,iBCNVG,G,MAAb,4MACEC,MAAQ,CACNC,OAAQ,MACRC,MAAO,IAHX,EAMEC,aAAe,YAAiB,IAAdC,EAAa,EAAbA,OAChB,EAAKC,SAAS,CAAEJ,OAAQG,EAAOE,SAPnC,EAUEC,aAAe,YAAiB,IAAdH,EAAa,EAAbA,OAChB,EAAKC,SAAS,CAAEH,MAAOE,EAAOE,MAAME,iBAXxC,uDAcY,IAAD,EAC2BC,KAAKC,MAA/BC,EADD,EACCA,QAASC,EADV,EACUA,aADV,EAEmBH,KAAKT,MAAvBC,EAFD,EAECA,OAAQC,EAFT,EAESA,MACVW,EAAUJ,KAAKC,MAAfG,MAEN,OAAQZ,GACN,IAAK,YACHY,EAAQA,EAAMC,QAAO,SAAAC,GAAI,OAAIA,EAAKC,aAClC,MACF,IAAK,gBACHH,EAAQA,EAAMC,QAAO,SAAAC,GAAI,OAAKA,EAAKC,aAUvC,OAJId,IACFW,EAAQA,EAAMC,QAAO,SAAAC,GAAI,OAAIA,EAAKE,MAAMC,SAAShB,OAIjD,yBAAKiB,UAAU,YACb,2BACEC,KAAK,OACLC,YAAY,kBACZC,SAAUb,KAAKF,eAEjB,4BACED,MAAOL,EACPqB,SAAUb,KAAKN,cAEf,4BAAQG,MAAM,OAAd,OACA,4BAAQA,MAAM,aAAd,aACA,4BAAQA,MAAM,iBAAd,kBAEF,sCACA,yBAAKa,UAAU,4BACb,wBAAIA,UAAU,kBACXN,EAAMU,KAAI,SAAAR,GAAI,OACb,wBACES,IAAKT,EAAKU,GACVN,UAAWO,IAAW,CACpBC,gBAAgB,EAChB,6BAA8BZ,EAAKC,UACnC,0BAA2BD,EAAKC,aAGlC,+BACE,2BACEI,KAAK,WACLQ,UAAQ,EACRC,QAASd,EAAKC,UACdc,QAAS,kBAAMlB,EAAaG,EAAKU,OAEnC,2BAAIV,EAAKE,QAEX,4BACEE,UAAU,iEAKVC,KAAK,SACLU,QAAS,kBAAMnB,EAAQI,EAAKjB,UAP9B,gBASYiB,EAAKjB,oBA/EjC,GAA8BiC,IAAMC,YCCvBC,G,MAAb,4MACEjC,MAAQ,CACNkC,KAAM,IAFV,kEAKuB,IAAD,OACVpC,EAAWW,KAAKC,MAAhBZ,OAERD,EAAQC,GACLN,MAAK,SAAC0C,GACAA,GAIL,EAAK7B,SAAS,CAAE6B,cAdxB,2CAkBwB,IAAD,OACXpC,EAAWW,KAAKC,MAAhBZ,OAEJW,KAAKT,MAAMkC,KAAKpC,SAAWA,GAI/BD,EAAQC,GACLN,MAAK,SAAA0C,GAAI,OACPA,EAAqC,EAAK7B,SAAS,CAAE6B,SAA9C,EAAK7B,SAAS,CAAE6B,KAAM,UA3BtC,+BA+BY,IACAA,EAASzB,KAAKT,MAAdkC,KADD,EAEuBzB,KAAKC,MAA3BZ,EAFD,EAECA,OAAQqC,EAFT,EAESA,UAEhB,OACE,yBAAKhB,UAAU,eACb,wBAAIA,UAAU,sBACZ,uDACqBrB,KAGvB,wBAAIqB,UAAU,qBAAqBe,EAAKE,MACxC,uBAAGjB,UAAU,sBAAsBe,EAAKG,OACxC,uBAAGlB,UAAU,sBAAsBe,EAAKI,OACxC,4BACElB,KAAK,SACLU,QAAS,kBAAMK,MAFjB,cA7CR,GAAiCJ,IAAMC,YCoExBO,G,wNAhEbvC,MAAQ,CACNa,MAAO,GACP2B,eAAgB,G,EAGlBC,kB,sBAAoB,4BAAAC,EAAA,sEACEpD,IADF,OACZuB,EADY,OAGlB,EAAKR,SAAS,CACZQ,MAAOA,EAAMC,QAAO,SAAAC,GAAI,OAAIA,EAAKE,OAASF,EAAKjB,QAAUiB,EAAKU,QAJ9C,2C,EAQpBd,QAAU,SAACb,GACT,EAAKO,SAAS,CAAEmC,eAAgB1C,K,EAGlCc,aAAe,SAACa,GACd,EAAKpB,UAAS,SAAAL,GAAK,MAAK,CACtBa,MAAOb,EAAMa,MAAMU,KAAI,SAACR,GACtB,OAAIA,EAAKU,MAAQA,EACR,2BACFV,GADL,IAEEC,WAAYD,EAAKC,YAId,eAAKD,W,EAKlBoB,UAAY,WACV,EAAK9B,SAAS,CAAEmC,eAAgB,K,uDAGxB,IAAD,EAC2B/B,KAAKT,MAA/Ba,EADD,EACCA,MAAO2B,EADR,EACQA,eAEf,OACE,yBAAKrB,UAAU,OACb,yBAAKA,UAAU,gBACb,kBAAC,EAAD,CACEN,MAAOA,EACPF,QAASF,KAAKE,QACdC,aAAcH,KAAKG,gBAIvB,yBAAKO,UAAU,gBACb,yBAAKA,UAAU,0BACZqB,EACC,kBAAC,EAAD,CACE1C,OAAQ0C,EACRL,UAAW1B,KAAK0B,YAEhB,0B,GAzDEJ,IAAMC,YCLxBW,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.e279a5da.chunk.js","sourcesContent":["const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport const getTodos = () => (\n  fetch(`${BASE_URL}/todos/`)\n    .then(response => response.json())\n    .then(result => result.data)\n);\n\nexport const getUser = userId => (\n  fetch(`${BASE_URL}/users/${userId}`)\n    .then(response => response.json())\n    .then(json => json.data)\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport './TodoList.scss';\n\nexport class TodoList extends React.Component {\n  state = {\n    status: 'All',\n    query: '',\n  }\n\n  handleSelect = ({ target }) => {\n    this.setState({ status: target.value });\n  }\n\n  handleChange = ({ target }) => {\n    this.setState({ query: target.value.toLowerCase() });\n  }\n\n  render() {\n    const { setUser, changeStatus } = this.props;\n    const { status, query } = this.state;\n    let { todos } = this.props;\n\n    switch (status) {\n      case 'Completed':\n        todos = todos.filter(todo => todo.completed);\n        break;\n      case 'Not completed':\n        todos = todos.filter(todo => !todo.completed);\n        break;\n      default:\n        break;\n    }\n\n    if (query) {\n      todos = todos.filter(todo => todo.title.includes(query));\n    }\n\n    return (\n      <div className=\"TodoList\">\n        <input\n          type=\"text\"\n          placeholder=\"Search by title\"\n          onChange={this.handleChange}\n        />\n        <select\n          value={status}\n          onChange={this.handleSelect}\n        >\n          <option value=\"All\">All</option>\n          <option value=\"Completed\">Completed</option>\n          <option value=\"Not completed\">Not completed</option>\n        </select>\n        <h2>Todos:</h2>\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {todos.map(todo => (\n              <li\n                key={todo.id}\n                className={classNames({\n                  TodoList__item: true,\n                  'TodoList__item--unchecked': !todo.completed,\n                  'TodoList__item--checked': todo.completed,\n                })}\n              >\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    readOnly\n                    checked={todo.completed}\n                    onClick={() => changeStatus(todo.id)}\n                  />\n                  <p>{todo.title}</p>\n                </label>\n                <button\n                  className=\"\n                  TodoList__user-button\n                  TodoList__user-button--selected\n                  button\n                  \"\n                  type=\"button\"\n                  onClick={() => setUser(todo.userId)}\n                >\n                  {`User #${todo.userId}`}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      userId: PropTypes.number.isRequired,\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n    }),\n  ).isRequired,\n  setUser: PropTypes.func.isRequired,\n  changeStatus: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './CurrentUser.scss';\n\nimport { getUser } from '../../api/api';\n\nexport class CurrentUser extends React.Component {\n  state = {\n    user: {},\n  }\n\n  componentDidMount() {\n    const { userId } = this.props;\n\n    getUser(userId)\n      .then((user) => {\n        if (!user) {\n          return;\n        }\n\n        this.setState({ user });\n      });\n  }\n\n  componentDidUpdate() {\n    const { userId } = this.props;\n\n    if (this.state.user.userId === userId) {\n      return;\n    }\n\n    getUser(userId)\n      .then(user => (\n        !user ? this.setState({ user: {} }) : this.setState({ user })\n      ));\n  }\n\n  render() {\n    const { user } = this.state;\n    const { userId, clearUser } = this.props;\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>\n            {`Selected user: ${userId}`}\n          </span>\n        </h2>\n        <h3 className=\"CurrentUser__name\">{user.name}</h3>\n        <p className=\"CurrentUser__email\">{user.email}</p>\n        <p className=\"CurrentUser__phone\">{user.phone}</p>\n        <button\n          type=\"button\"\n          onClick={() => clearUser()}\n        >\n          Clear\n        </button>\n      </div>\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  userId: PropTypes.number.isRequired,\n  clearUser: PropTypes.func.isRequired,\n};\n","import React from 'react';\n\nimport { getTodos } from './api/api';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\n\nimport './App.scss';\nimport './styles/general.scss';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n  };\n\n  componentDidMount = async() => {\n    const todos = await getTodos();\n\n    this.setState({\n      todos: todos.filter(todo => todo.title && todo.userId && todo.id),\n    });\n  }\n\n  setUser = (userId) => {\n    this.setState({ selectedUserId: userId });\n  }\n\n  changeStatus = (id) => {\n    this.setState(state => ({\n      todos: state.todos.map((todo) => {\n        if (todo.id === +id) {\n          return {\n            ...todo,\n            completed: !todo.completed,\n          };\n        }\n\n        return { ...todo };\n      }),\n    }));\n  }\n\n  clearUser = () => {\n    this.setState({ selectedUserId: 0 });\n  }\n\n  render() {\n    const { todos, selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            setUser={this.setUser}\n            changeStatus={this.changeStatus}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                clearUser={this.clearUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}