{"version":3,"sources":["api/api.js","components/TodoList/TodoList.jsx","components/CurrentUser/CurrentUser.jsx","App.jsx","index.js"],"names":["BASE_URL","getUser","userId","fetch","then","response","json","result","data","TodoList","state","status","query","handleSelect","target","setState","value","handleChange","toLowerCase","selectButtonToggler","id","props","selectButton","setUser","this","changeStatus","todos","filter","todo","completed","title","includes","className","type","placeholder","onChange","map","key","classNames","TodoList__item","readOnly","checked","onClick","React","Component","CurrentUser","user","prevProps","clearUser","name","email","phone","App","selectedUserId","ok","Error","statusText","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c502909d.chunk.js","sourcesContent":["const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport function getTodos() {\n  return fetch(`${BASE_URL}/todos/`)\n    .then(response => (!response.ok\n      ? new Error(`${response.status} - ${response.statusText}`)\n      : response.json().then(result => result.data)));\n}\n\nexport const getUser = userId => fetch(`${BASE_URL}/users/${userId}`)\n  .then(response => response.json())\n  .then(result => result.data);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport './TodoList.scss';\n\nexport class TodoList extends React.Component {\n  state = {\n    status: 'All',\n    query: '',\n  }\n\n  handleSelect = ({ target }) => {\n    this.setState({ status: target.value });\n  }\n\n  handleChange = ({ target }) => {\n    this.setState({ query: target.value.toLowerCase() });\n  }\n\n  selectButtonToggler = (id) => {\n    this.props.selectButton(id);\n    this.props.setUser(id);\n  }\n\n  render() {\n    const { changeStatus, userId } = this.props;\n    const { status, query } = this.state;\n    let { todos } = this.props;\n\n    switch (status) {\n      case 'Completed':\n        todos = todos.filter(todo => todo.completed);\n        break;\n      case 'Not completed':\n        todos = todos.filter(todo => !todo.completed);\n        break;\n      default:\n        break;\n    }\n\n    if (query) {\n      todos = todos.filter(todo => todo.title.includes(query));\n    }\n\n    return (\n      <div className=\"TodoList\">\n        <input\n          type=\"text\"\n          placeholder=\"Search by title\"\n          onChange={this.handleChange}\n        />\n        <select\n          value={status}\n          onChange={this.handleSelect}\n        >\n          <option value=\"All\">All</option>\n          <option value=\"Completed\">Completed</option>\n          <option value=\"Not completed\">Not completed</option>\n        </select>\n\n        <h2>Todos:</h2>\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {todos.map(todo => (\n              <li\n                key={todo.id}\n                className={classNames({\n                  TodoList__item: true,\n                  'TodoList__item--unchecked': !todo.completed,\n                  'TodoList__item--checked': todo.completed,\n                })}\n              >\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    readOnly\n                    checked={todo.completed}\n                    onClick={() => changeStatus(todo.id)}\n                  />\n                  <p>{todo.title}</p>\n                </label>\n                <button\n                  className={todo.userId === userId\n                    ? 'TodoList__user-button--selected'\n                    : 'TodoList__user-button'\n                  }\n                  type=\"button\"\n                  onClick={() => this.selectButtonToggler(todo.userId)}\n                >\n                  {`User #${todo.userId}`}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      userId: PropTypes.number.isRequired,\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n    }),\n  ).isRequired,\n  setUser: PropTypes.func.isRequired,\n  changeStatus: PropTypes.func.isRequired,\n  userId: PropTypes.number.isRequired,\n  selectButton: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './CurrentUser.scss';\n\nimport { getUser } from '../../api/api';\n\nexport class CurrentUser extends React.Component {\n  state = {\n    user: {},\n  }\n\n  async componentDidMount() {\n    const { userId } = this.props;\n\n    getUser(userId)\n      .then((user) => {\n        if (!user) {\n          return;\n        }\n\n        this.setState({ user });\n      });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { userId } = this.props;\n\n    if (prevProps.userId === userId) {\n      return;\n    }\n\n    getUser(userId)\n      .then(user => (\n        !user ? this.setState({ user: {} }) : this.setState({ user })\n      ));\n  }\n\n  render() {\n    const { user } = this.state;\n    const { userId, clearUser } = this.props;\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>\n            {`Selected user: ${userId}`}\n          </span>\n        </h2>\n        <h3 className=\"CurrentUser__name\">{user.name}</h3>\n        <p className=\"CurrentUser__email\">{user.email}</p>\n        <p className=\"CurrentUser__phone\">{user.phone}</p>\n        <button\n          type=\"button\"\n          onClick={() => clearUser()}\n        >\n          Clear\n        </button>\n      </div>\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  userId: PropTypes.number.isRequired,\n  clearUser: PropTypes.func.isRequired,\n};\n","import React from 'react';\n\nimport { getTodos } from './api/api';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\n\nimport './App.scss';\nimport './styles/general.scss';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n  };\n\n  async componentDidMount() {\n    const todos = await getTodos();\n\n    this.setState({\n      todos: todos.filter(todo => todo.title && todo.userId && todo.id),\n    });\n  }\n\n  setUser = (userId) => {\n    this.setState({ selectedUserId: userId });\n  }\n\n  changeStatus = (id) => {\n    this.setState(state => ({\n      todos: state.todos.map((todo) => {\n        if (todo.id === +id) {\n          return {\n            ...todo,\n            completed: !todo.completed,\n          };\n        }\n\n        return { ...todo };\n      }),\n    }));\n  }\n\n  selectButton = (id) => {\n    this.setState({ selectedUserId: id });\n  }\n\n  clearUser = () => {\n    this.setState({ selectedUserId: 0 });\n  }\n\n  render() {\n    const { todos, selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            setUser={this.setUser}\n            changeStatus={this.changeStatus}\n            selectButton={this.selectButton}\n            userId={selectedUserId}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                clearUser={this.clearUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}